@{
    ViewBag.Title = "AllUser";
    Layout = "~/Views/Shared/_LayoutPage1.cshtml";
}
<div class="row">
					<div class="col-md-12">
						<!-- BEGIN EXAMPLE TABLE PORTLET-->
						<div class="portlet box blue">
							<div class="portlet-title">
								<div class="caption">
									<i class="fa fa-edit"></i>Form Fields
							</div>
                               
						<div class="form-group col-md-2" style="float: right;margin: 10px 0; padding: 0; ">            
                             <select  class="form-control"style=" border: none; border-radius: 4px!important;" id="colorselector" name="dll">
                              <option value="Select">Select</option>                    
                              <option value="Text Box">Text Box</option>
                              <option selected="selected" value="Drop Down">Drop Down</option>
                              <option value="List Box">List Box</option>
                              <option value="Check Box">Check Box</option>
                              <option value="CheckBox List">CheckBox List</option>
                              <option value="File Uploader">File Uploader</option>
                              <option value="Lookup">Lookup</option>
                              <option value="LT Lookup">LT Lookup</option>
                              <option value="Calculative Field">Calculative Field</option>
                              <option value="Child Item">Child Item</option>
                              <option value="Child Item Total">Child Item Total</option>
                              <option value="Self Reference">Self Reference</option>
                              <option value="Parent Field">Parent Field</option>
                              <option value="Formula Field">Formula Field</option>
                              <option value="Signature">Signature</option>
                              <option value="Geo Point">Geo Point</option>
                              <option value="Geo Fence">Geo Fence</option>
                              <option value="Child Item MAX">Child Item MAX</option>
                              <option value="LookupDDL">LookupDDL</option>
                              <option value="Catchment">Catchment</option>
                              <option value="Advance Formula">Advance Formula</option>
                              <option value="Multi LookUP">Multi LookUP</option>
                            <option value="Multi LookupDDL">Multi LookupDDL</option>
                            <option value="Variance">Variance</option>
						                            </select>
						</div>	
                  
			
							</div>
							<div class="portlet-body">
						
								<table class="table table-striped table-hover table-bordered" id="sample_editable_1">
									<thead>
								<tr role="row">
                                    <th class="sorting" tabindex="0" aria-controls="sample_editable_1" rowspan="1" colspan="1" aria-label="
										 Username
									: activate to sort column ascending" style="width: 165px;">
										Field Name
									</th>
                                  
                                    <th class="sorting" tabindex="0" aria-controls="sample_editable_1" rowspan="1" colspan="1" aria-label="
										 Notes
									: activate to sort column ascending" style="width: 144px;">
									Data Type
									</th>
                                   <th class="sorting" tabindex="0" aria-controls="sample_editable_1" rowspan="1" colspan="1" aria-label="
										 Notes
									: activate to sort column ascending" style="width: 144px;">
								Display Order
									</th>
                                     <th class="sorting" tabindex="0" aria-controls="sample_editable_1" rowspan="1" colspan="1" aria-label="
										 Notes
									: activate to sort column ascending" style="width: 144px;">
								Field Description
									</th>
                                      <th class="sorting" tabindex="0" aria-controls="sample_editable_1" rowspan="1" colspan="1" aria-label="
										 Notes
									: activate to sort column ascending" style="width: 144px;">
								Create On
									</th>
									</tr>
								</thead>
                                 <tbody id="myTable">	
                                 						
								
                                                   		
								</tbody>
								</table>
								
							</div>
						</div>
						<!-- END EXAMPLE TABLE PORTLET-->
					</div>
				</div>
<div id="myModal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-body">
          <div class="portlet box red"  style="width:570px ;background-color:#38d8b3" >
							<div class="portlet-title">
								<div class="caption">
									<i class="fa fa-gift"></i> Add Form Fields
								</div>
								<div class="tools">
									<a href="" class="collapse" data-original-title="" title="">
									</a>
									<a href="#portlet-config" data-toggle="modal" class="config" data-original-title="" title="">
									</a>
									<a href="" class="reload" data-original-title="" title="">
									</a>
									<a href="" class="remove" data-original-title="" " data-dismiss="modal" title="">
									</a>
								</div>
							</div>
							<div class="portlet-body form">
								<form role="form" id="1" >
									<div class="form-body">
										<div class="form-group">
											<label>Field Name</label>
											<input type="text" id="txtname" name="txtname" required="" class="form-control input-lg" placeholder="Please Insert UserName">
										</div>
                                        <div class="form-body">
										<div class="form-group">
											<label>Display Order</label>
											<input type="text" id="displayorder" name="displayorder" required="" class="form-control input-lg" placeholder="Please Insert Menu Description">
										</div>
										<div class="form-group">
											<label>Data Type</label>
                                            <select class="form-control" id="datatype" name="datatype"  required="" class="form-control input-lg" placeholder="Please Insert Menu Description">
                                                  <option  value="0">Select</option>
                                                  <option  value="text">text</option>
                                                  <option  value="number">Numaric</option>
                                                  <option  value="date">Calender</option>
                                                  <option  value="time">Time</option>                                              
                                                  <option  value="email">Email</option>
                                                  <option  value="password">password</option>
                                                  <option value="url">url</option>
							                   </select>
							</div>
										<div class="form-group">
											<label>Description</label>
											<input id="Description" type="text" name="Description" class="form-control input-lg" class="validate" required>
 
										</div>
									</div>
									<div class="form-actions right">		
                                        <button type="button" class="btn default" data-dismiss="modal">Close</button>
	                                     <button type="button" class="btn blue" id="btnformffield">Save</button>
									</div>
								</form>
							</div>
						</div>
          </div>
        </div>
  </div>
</div>


<script src="~/Scripts/jquery-1.7.1.js"></script>
<script src="~/Scripts/jquery-1.7.1.min.js"></script>
<link rel="stylesheet" type="text/css" href="../../assets/global/plugins/select2/select2.css"/>
<link rel="stylesheet" type="text/css" href="../../assets/global/plugins/datatables/plugins/bootstrap/dataTables.bootstrap.css"/>
<!-- Modal -->
<script src="../../assets/admin/pages/scripts/table-editable.js"></script>

<script type ="text/javascript">
    $(document).ready(function () {
        $('#colorselector').change(function () {
            if ($('#colorselector option:selected').text() == "Text Box") {
                $('#myModal').modal({
                    show: 'true'
                });
                $('#1').css('background-color','#ddd;');
                $('.one').not().show();
            }
            if ($('#colorselector option:selected').text() == "Drop Down")
            {
                $('#myModal').modal({
                    show: 'true'
                });
                $('#1').css('background-color', 'rgba(250, 235, 204, 0.38);');
                $('.one').not().hide();
            }
            if ($('#colorselector option:selected').text() == "Lable") {
                $('#myModal').modal({
                    show: 'true'
                });
                $('#1').css('background-color', 'rgba(138, 109, 59, 0.61);');
                $('.one').not().hide();
            }
            
        });
        $(window).load(function ()
        {
            FormFieldData()
        });
             $("#btnformffield").click(function () {         
                 var fieldname = document.getElementById("txtname").value;
                 var fieldorder = document.getElementById("displayorder").value;
                 var fieldtype = document.getElementById("datatype").value;
                 var fielddescription = document.getElementById("Description").value;
                 var colorselector = document.getElementById("colorselector").value;
                 $.ajax({
                     url: "/FormMaster/Formfield?colorselector=" + colorselector + "&fieldname=" + fieldname + "&fieldorder=" + fieldorder + '&fielddescription=' + fielddescription,
                     type: "POST",
                     success: function (data) {
                         debugger
                         alert("Field Insert Sucessfully");
                        
                         FormFieldData();
                   },
                    error: function () {
                        $("#testarea").html("ERROR");
                    }
                 });
             });
    });

   
    function FormFieldData() {      
        $.ajax({
            type: "POST",
            url: "/Dynamic/Fields",
            datatype: "JSON",
            success: function (data) {
                var data = $.parseJSON(JSON.stringify(data));
                var html = '';
                for (var j = 0; j < data.Response.length; j++) {
                    html += '<tr role="row" class="odd"><td  class="">' + data.Response[j].Display_name + '</td><td class="center">'+ data.Response[j].Field_type +'</td><td class="sorting_1">' + data.Response[j].Order_number + '</td><td class="center" >' + data.Response[j].Field_description + '</td><td class="center">' + data.Response[j].CreateOn + '</td></tr>';               
                  //  var id = ;
                   // $('#fieldid').text(id);
                   // var fieldtype = data.Response[j].Field_type;
                   // $('#fieldtype').text(fieldtype)
                   // var fieldescription = data.Response[j].Field_description;
                   // $('#fieldescription').text(fieldescription);
                   // var DisplayName = data.Response[j].Display_name;
                   // $('#fieldName').text(DisplayName);
                   // var createdon = data.Response[j].CreateOn;
                   // $('#createdon').text(createdon);
                }
                $('#myTable').html(html);
            },
        });
    }

    jQuery(document).ready(function () {
        Metronic.init(); // init metronic core components
        // Layout.init(); // init current layout
        Demo.init(); // init demo features
        TableEditable.init();
    });
	</script>