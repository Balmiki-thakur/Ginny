@{
    ViewBag.Title = "Setting";
    Layout = "~/Views/Shared/_LayoutPage1.cshtml";
}

<script src="~/Scripts/jquery-1.7.1.js"></script>
<script src="~/Scripts/jquery-1.7.1.min.js"></script>

@*<span>
	<div class="form-body" id="hhh">
										<div class="form-group">
											<label>User Name</label>
											<input type="text" id="UserName" name="UserName" required=""  class="form-control input-lg" placeholder="Please Insert UserName">
										</div>
										<div class="form-group">
											<label>Email</label>
                                             <input type="email"  id="email" name="Email" class="form-control input-lg"  required=""   placeholder="Please Insert Email">
										</div>
										<div class="form-group">
											<label>Mobile</label>
											 <input type="text" class="form-control" required="" id="MobileNo" name="MobileNo" data-error="This field is required">
										</div>
                                        <div class="form-group">
											<label>Date of Birth</label>
											 <input type="date" class="form-control" required="" id="dob" name="DOB" data-error="That date is invalid">	
                                        </div>
                   						<div class="form-group">
											<label>User Role</label>  				
											                                         
										</div>
									</div>
    <div>
        <input type="button" id="btnSubmit111" name ="submit" /> 
    </div>
</span>
<script type ="text/javascript">
         $(document).ready(function () {           
             $("#btnSubmit111").click(function () {            
                 var element = document.getElementById('hhh');
                 var elementid = element.outerHTML;
                 debugger;                
                 $.ajax({
                     url: "/Dynamic/New?elementid=" + elementid,
                     type: "POST",
                     success: function (data) {
                         alert("Menu Is Successfully Add Thanku");
                     },
                     error: function () {
                         $("#testarea").html("ERROR");
                     }
                 });
             });
         });
	</script>*@
<!DOCTYPE html>
@*<html ng-app="AwesomeAngularMVCApp" ng-controller="LandingPageController">
<head>
    <title ng-bind="models.helloAngular"></title>
</head>
<body>
    <h1>{{models.helloAngular}}</h1>
    <ul>
        <li><a href="/#/routeOne">Route One</a></li>
        <li><a href="/#/routeTwo">Route Two</a></li>
        <li><a href="/#/routeThree">Route Three</a></li>
    </ul>
    <div ng-view></div>

    <script src="//cdnjs.cloudflare.com/ajax/libs/angular.js/1.2.20/angular.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/angular.js/1.2.20/angular-route.min.js"></script>
    @Scripts.Render("~/bundles/angular")
    </body>
</html>*@

<style>#origin
{
 
}

#origin img, #drop img {
  margin-top: 3px;
  margin-left: 5px;
}

#drop
{
  background-color: #cbe2e0;
  min-height: 120px;
}
.over {
  border: solid 5px purple;
}
.draggable
{
  border: solid 2px gray;
}
    .chbk-list { width:200px; float:left;
    }
</style>
  <input type="hidden" id="CompanyId" name="Eid" value="@Session["LOGGED_Company"]" />
	<div id="FormName" style="overflow:hidden; background:lightblue; margin-bottom:10px; padding:10px;"></div>
<div class="form-actions">
<button type="submit" onclick="saveRecords();" class="btn green-haze">Click And Get All Fields</button> 
<input type="text" id="formulafieldName" name="formulafieldName" required=""  placeholder="Please Insert FieldName">
    <input type="text" id="valuefield" name="valuefield" required=""  placeholder="Please Insert value">
									
                                      
</div>
<div id="wrapper">
<div class="row">
					
					<div class="col-md-4 ">
						<!-- BEGIN Portlet PORTLET-->
						<div class="portlet box blue-hoki">
							<div class="portlet-title">
								<div class="caption">
									<i class="fa fa-gift"></i>All Fields
								</div>
								<div class="actions">								
									<a class="btn btn-icon-only btn-default btn-sm fullscreen" href="#" data-original-title="" title="">
									</a>
								</div>
							</div>
							<div class="portlet-body">
								<div class="slimScrollDiv" style="position: relative; overflow: hidden; width: auto; height: 200px;"><div class="scroller" style="height: 200px; overflow: hidden; width: auto;" data-rail-visible="1" data-rail-color="yellow" data-handle-color="#a1b2bd" data-initialized="1">
								<strong>Scroll is always visible</strong>
                                    <div id="origin" class="fbox" title="one"  >
		
	                                   </div>
								</div><div class="slimScrollBar" style="background: rgb(161, 178, 189); width: 7px; position: absolute; top: 0px; opacity: 0.4; display: block; border-radius: 7px; z-index: 99; right: 1px; height: 116.959px;"></div><div class="slimScrollRail" style="width: 7px; height: 100%; position: absolute; top: 0px; display: none; border-radius: 7px; background: yellow; opacity: 0.2; z-index: 90; right: 1px;"></div></div>
							</div>
						</div>
						<!-- END Portlet PORTLET-->
					</div>
                    <div class="col-md-4 ">
						<!-- BEGIN Portlet PORTLET-->
						<div class="portlet box blue-hoki">
							<div class="portlet-title">
								<div class="caption">
									<i class="fa fa-gift"></i>All Fields
								</div>
								<div class="actions">								
									<a class="btn btn-icon-only btn-default btn-sm fullscreen" href="#" data-original-title="" title="">
									</a>
								</div>
							</div>
							<div class="portlet-body">
								<div class="slimScrollDiv" style="position: relative; overflow: hidden; width: auto; height: 200px;"><div class="scroller" style="height: 200px; overflow: hidden; width: auto;" data-rail-visible="1" data-rail-color="yellow" data-handle-color="#a1b2bd" data-initialized="1">
								<strong>Scroll is always visible</strong>
                                     <div id="MathmaticalOprater" class="fbox" title="one">                                                                                                     
	                                 </div>
								</div><div class="slimScrollBar" style="background: rgb(161, 178, 189); width: 7px; position: absolute; top: 0px; opacity: 0.4; display: block; border-radius: 7px; z-index: 99; right: 1px; height: 116.959px;"></div><div class="slimScrollRail" style="width: 7px; height: 100%; position: absolute; top: 0px; display: none; border-radius: 7px; background: yellow; opacity: 0.2; z-index: 90; right: 1px;"></div></div>
							</div>
						</div>
						<!-- END Portlet PORTLET-->
					</div>
                    <div class="col-md-4 ">
						<!-- BEGIN Portlet PORTLET-->
						<div class="portlet box blue-hoki">
							<div class="portlet-title">
								<div class="caption">
									<i class="fa fa-gift"></i>All Fields
								</div>
								<div class="actions">								
									<a class="btn btn-icon-only btn-default btn-sm fullscreen" href="#" data-original-title="" title="">
									</a>
								</div>
							</div>
							<div class="portlet-body">
								<div class="slimScrollDiv" style="position: relative; overflow: hidden; width: auto; height: 200px;"><div class="scroller" style="height: 200px; overflow: hidden; width: auto;" data-rail-visible="1" data-rail-color="yellow" data-handle-color="#a1b2bd" data-initialized="1">
								<strong>Scroll is always visible</strong>
                                    <div id="drop" class="fbox"></div>
								</div><div class="slimScrollBar" style="background: rgb(161, 178, 189); width: 7px; position: absolute; top: 0px; opacity: 0.4; display: block; border-radius: 7px; z-index: 99; right: 1px; height: 116.959px;"></div><div class="slimScrollRail" style="width: 7px; height: 100%; position: absolute; top: 0px; display: none; border-radius: 7px; background: yellow; opacity: 0.2; z-index: 90; right: 1px;"></div></div>
							</div>
						</div>
						<!-- END Portlet PORTLET-->
					</div>
                         <textarea id="FinalFormula" ></textarea>
				</div>
    <button type="submit" class="btn green-haze">Submit</button>
    </div>


@*<div id="wrapper">
    <div class="row">
        <div id="MathmaticalOprater" class="fbox" title="one"  style="overflow:hidden;width:300px; float:left; margin:20px; background:#b6ff00; margin-bottom:10px; padding:10px;">
		 <div class="chbk-list"><label id="one" class="draggable">+</label></div>
             <div class="chbk-list"><label id="two" class="draggable">-</label></div>
             <div class="chbk-list"><label id="three" class="draggable">*</label></div>
             <div class="chbk-list"><label id="four" class="draggable">/</label></div>
	</div>
	<div id="origin" class="fbox" title="one"  style="overflow:hidden;width:300px; float:left; margin:20px; background:#b6ff00; margin-bottom:10px; padding:10px;">
		
	</div>
   
	<div id="drop" class="fbox" style="overflow:hidden;width:300px; background:#b6ff00; margin-bottom:10px; padding:10px;">
   
       
	</div>
         
	
        </div>
</div>*@










  
<script src="~/Scripts/jquery-1.7.1.js"></script>
<script type="text/javascript">
    $(document).ready(function () {
        $("#Math").click(function () {
            alert("f");
            //$("#MathOprater").remove("dspn");
            $("#MathOprater").show();
        });
        var CompanyId = document.getElementById("CompanyId").value;
        $.ajax
               ({
                   type: "POST",
                   url: "/Dynamic/AllFormList/?CompanyId=" + CompanyId,
                   datatype: "JSON",
                   success: function (data) {
                       var item = '';
                       for (var j = 0; j < data.Response.length; j++) {
                           var formName = data.Response[j].FormName;
                           item += "<div class='chbk-list'><input type='checkbox' id= 'FormName" + j + "' class='icheck' value='" + data.Response[j].Id + "'/> <label>" + data.Response[j].FormName + "</label></br></div>";
                           //  "<option value='" + data.Response[j].Id + "'>" + data.Response[j].FormName + "</option>";
                       };

                       $("#FormName").html(item);
                   },
               });
    });
    function saveRecords() {
       
        var ids = '';
        $('.icheck:checked').each(function () {
            ids += $(this).val() + ',';
        });
        var CompanyId = document.getElementById("CompanyId").value;
        $.ajax({
            type: "POST",
            url: "/Dynamic/ReportFields/?formid=" + ids,
            datatype: "JSON",
            success: function (data) {
          
                var fieldData = '';
                var joindata = '';
                for (var j = 0; j < data.Response.length; j++) {
                    var count = $('input.icheck:checked').length;
                  
                  //  if (data.Response[j].DataTypes == 'number')
                    //{
                        fieldData += '<label id=' + data.Response[j].Display_name + ' value=document.getElementById(' + data.Response[j].Display_name + ').value class="draggable" style="border: 1px solid gray!important; margin-right:10px; padding: 0px 6px; font-size: 14px!important;">' + data.Response[j].Display_name + '</label>';//<input type='checkbox'  class='iChildcheck'  value='" + data.Response[j].Display_name + "/" + data.Response[j].FormId + "'>                    
                   // }                  
                }
                $("#origin").html(fieldData);             
            },
        });
    }
    $("#valuefield").blur(function () {
        data = document.getElementById("valuefield").value;
        var valuefield = '<span class="draggable" style="border: 1px solid gray!important; margin-right:10px; padding: 0px 6px; font-size: 24px!important;">' + data + '</span>'
        $("#MathmaticalOprater").append(valuefield);
    })

    $(document).on("mouseover", ".draggable", function () { 
        $(".draggable").draggable({ cursor: "crosshair", revert: "invalid" });
        $("#drop").droppable({
            accept:".draggable",
            drop: function (event, ui)
            {              
                $(this).removeClass("border").removeClass("over");
                var dropped = ui.draggable;                
                var droppedOn = $(this);
                var val = $('#origin').children('label').attr('value');   
                //var oprater = $('#MathmaticalOprater').children('span').html();
                $(dropped).detach().css({ top: 0, left: 0 }).appendTo(droppedOn);             
                $('#FinalFormula').append(val);
              //  $('#FinalFormula').append(oprater);
                val = '';
                oprater = '';

            },
            over: function (event, elem) {
                $(this).addClass("over");
              
            },
            out: function (event, elem) {
                $(this).removeClass("over");
            }
        });
        $("#drop").sortable();
        $("#origin").droppable({
            accept:".draggable", drop: function (event, ui)
            {
               $(this).removeClass("border").removeClass("over");
                var dropped = ui.draggable;
                var droppedOn = $(this);                                    
                $(dropped).detach().css({ top: 0, left: 0 }).appendTo(droppedOn);
              
            }
        });
        $("#MathmaticalOprater").droppable({
            accept: ".draggable", drop: function (event, ui)
            {
                $(this).removeClass("border").removeClass("over");
                var dropped = ui.draggable;
                var droppedOn = $(this);             
                var oprater = $('#MathmaticalOprater').children('span').html();
                $(dropped).detach().css({ top: 0, left: 0 }).appendTo(droppedOn);
                $('#FinalFormula').append(oprater);
                oprater = '';
            }
        });     
    });

    $( "#FunctionCategories" ).change(function() {              
        FunctionCategories = document.getElementById('FunctionCategories').options[document.getElementById('FunctionCategories').selectedIndex].value;
        if (FunctionCategories == 1)
        {          
            $(".dspn1").hide();
            $(".DATE").show();

        }
        if (FunctionCategories == 3) {
            $(".DATE").hide();
            $(".dspn1").show();
        }

    });
   
</script>
